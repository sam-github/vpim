
== PACKAGING

Check packaging guidelines:

  http://www.rubygarden.org/ruby?QuickGuideToPackaging

- ri docs during install?

- html docs during install?


== FEATURES

- DirectoryInfo#delete_if
- DirectoryInfo#delete

- don't encode TYPE= if there are no values

- complete RRULE support

- icalendar maker

- rrule maker

- streaming decoder?

- streaming encoder?

  maker, take OUT as a param, append fields using << ? then if it's an IO it will
  be a push encoder, can default to Vcard#create.

	---> nice idea, but it breaks the check for duplicates I'm doing...

- valarms

  - like ones that open apps: http://docs.info.apple.com/article.html?artnum=300368

- vjournal

- value=uri
  -> the value isn't a URI, the URI points to the value, of unknown type! Should
  I allow this to be handled? Maybe use open-uri()?

- add way to delete a param from a Field, maybe assign nil to it? done?

- encoding TEXT, and the NOTE field

== QUESTIONS

- What does Time.local do with the isdst, and tz arguments?

- Time.local()/gm() don't raise errors for out-of-range day-of-month (Feb 31st,
  anyone?)!

- Ask about Date extensions?

- Ask about Time extensions?

+ Ask on ietf-icalendar:

  Errors in examples?


== CLEANUPS/BUGS

- perfect round trip decode/encode - make Field take the entire line, with
	embedded newlines?

-

ensemble:~/p/ruby/vpim % ./rrule.rb --start '20050131T000000Z' 'FREQ=MONTHLY' | head
Start: Mon Jan 31 00:00:00 EST 2005
Rrule: FREQ=MONTHLY
count=  0 Mon Jan 31 00:00:00 EST 2005
count=  1 Mon Feb 28 00:00:00 EST 2005
count=  2 Mon Mar 28 00:00:00 EST 2005
count=  3 Thu Apr 28 00:00:00 EDT 2005
count=  4 Sat May 28 00:00:00 EDT 2005
count=  5 Tue Jun 28 00:00:00 EDT 2005
count=  6 Thu Jul 28 00:00:00 EDT 2005
count=  7 Sun Aug 28 00:00:00 EDT 2005

I need to keep my own date/time, and not use Time as the basic object in my iteration.

Then, I can eliminate non-existent times before yielding them.

- the rrule tests depended on being in EST/EDT, so no longer pass...

- when encoding a Date or Time, set value=date/value=date-time parameter.

- allow preferred to be set to false/nil in vcard/maker

- Need to deal with Date and Time comparisons, see note in time_from_rfc2425. I
  might need to extend the date time comparisons so Date and Time can be
  compared.

- Need to document @properties

- pull common implementation of ical components out into a module/mixin

- Vevent has @fields, and @properties, but @properties has @fields, too.
  Duplication necessary?

- I could do this entirely differently, by adding a to_rfc2445 method to Date,
  Time, DateTime, etc. that return string values, then anybody could add their
  own values, and we'd handle it. But then, what about setting the value type?
  Maybe some kind of table of handlers, per class?

- Time#plusmonth/day should ask itself if it is in utc, then call Time.utc or Time.local
  as appropriate.

- bug: deal with "round down" that Date does when you add a month, and the dofmonth is not
  in valid range -> if you have jan31 repeating monthly with iCal, you shouldn't get an
  occurence in Feb

- do coverage testing: http://rubyforge.org/project/showfiles.php?group_id=18&release_id=360

- guess whether it's a date or a date-time by matching regexes, instead of
  having to provide the default, which I hacked in, its ugly, and we can guess

  Done?

- deal with timezones correctly, iCalendar wants:

     DTSTART:19970714T133000                  ;Local time
     DTSTART:19970714T173000Z                 ;UTC time
     DTSTART;TZID=US-Eastern:19970714T133000  ;Local time and time zone reference

  Done?

- don't allow quoted-printable encodings if version is 3.0

- encoding values with a \n in it will break

  --> generally, make sure not to generate invalid encodings

- return self for true, and for methods that don't have other return values?

- preserve whitespace in a Field?

- support ';' list values (done on encoding, anything to do on decoding?)

- value=text
  in this value, newlines are \n or \N, deal with this when decoding
  (as are ; and ,)

- freeze everything? -> Need to test this.


== VCARD VERSION INTEROP

- Confirm Address Book bugs: PHOTO uses version 2 encoding field, and has too many spaces.

Examine vCard 2.1 interop, and possible trans-encoding.

; can show up in a parameter value, if escaped

quoted-printable can be used to encode values with line breaks


